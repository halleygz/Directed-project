<%- include('partials/header'); -%>
<!-- <form>
  <input type="text" aria-label="Search" name="searchTerm" placeholder="seach blogs ...">
  <button>Seach</button>
</form> -->
<header style="margin-top: 25px; margin-bottom: 25px">
  <h2 class="headings">All Blogs</h2>
</header>
<main class="main1">
  <% data.forEach(blog => { %>
  <div class="card">
    <div class="image"></div>
    <div class="text">
      <a href="/blog/<%= blog._id %>">
        <h2><%= blog.title %></h2>
        <p class="article-list__date"><%= blog.createdAt.toDateString() %></p>
      </a>
    </div>
  </div>

  <% }) %>
</main>

<% if (nextPage !== null) { %>
<button class="headings">
  <a href="/allblogs?page=<%= nextPage %>" class="pagination"
    >&lt; View Older Posts</a
  >
</button>
<% } %>
<script>
  //const form = document.querySelector('form')
  //form.addEventListener("submit", async(e)=>{
  //  e.preventDefault();
  //  const {searchTerm} = {searchTerm: form.searchTerm.value}
  //  console.log(searchTerm)
  //  try{
  //    const res = await fetch("/search",{
  //      method: "POST",
  //      body: JSON.stringify({ searchTerm }),
  //      headers: { "Content-Type": "application/json" },
  //    })
  //  } catch (error) {
  //    console.log(error)
  //  }
  //})
</script>
<%- include('partials/footer'); -%>
